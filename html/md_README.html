<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>Haclib: HACLIB</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Haclib
   &#160;<span id="projectnumber">0.0.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">HACLIB </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Haclib adds higher-order, generic types to C. These include vectors (self-resizing arrays), sequences (linked lists), and trees. These data structures are implemented as macros in headers with the base type being the first parameter, so specific code is generated for each type and there is no overhead from tags or void pointers. Note that because of a peculiarity in C where identical struct types are not compatible (eg <code>struct{int i;} a; struct{int i;} b = a;</code> will not work), the macros <code>*_T_NEW(base_t)</code> must be used once before the macros <code>*_T(base_t)</code> to setup a typedef. Example with vectors: </p><pre class="fragment">#include &lt;stdio.h&gt;
#include "hac_vec.h"

int main(void){
    HAC_VEC_T_NEW(int);
    HAC_VEC_T(int) vec = HAC_VEC_FROM(int, 1, &amp;(int[1]){2});
    for(int i = 2; i &lt; 100; ++i){
        if(HAC_VEC_ALL(int, &amp;vec, i%e)){
            HAC_VEC_PUSHR(int, &amp;vec, i);
        }
    }
    printf("%i primes:\n", (int)HAC_VEC_LEN(int, &amp;vec));
    HAC_VEC_FOREACH(int, &amp;vec, printf("%i\n", e));
    HAC_VEC_DELETE(int, &amp;vec);
}
</pre><p>The code makes heavy use of statement expressions (the <code>({})</code> things), which are not standard C but supported by at least GCC and Clang.</p>
<p>The code for the data types is divided into separate files for different "typeclasses", which are only nominal but denote certain behaviors. For example, the <code>functor</code> interface requires <code>map</code> and <code>foreach</code>, so these macros are placed in <a class="el" href="__hac__vec__functor_8h.html">_hac_vec_functor.h</a>.</p>
<p>To use the types, have a look at the typedefs in the <code>*_T_NEW(base_t)</code> macros located in the main headers (ie the ones not beginning with an underscore). Usually you can use either <code>vec.n</code> or <code><a class="el" href="hac__vec_8h.html#a788042553f564d879e5a62374a0bbc18" title="Gets the length of a vector. Equivalent to (vec)->n, so you can just use that if you&#39;d prefer...">HAC_VEC_LEN(base_t, &amp;vec)</a></code> to get the length of a vector, <code>vec.a[i]</code> or <code><a class="el" href="hac__vec_8h.html#afba37d9c393dc47e4b407b3f888e78e1" title="Gets the ith element of a vector. Equivalent to (vec)->a[i], so you can just use that if you&#39;d prefer...">HAC_VEC_GET(base_t, &amp;vec, i)</a></code> to get the ith element, and so on.</p>
<p>Take a look at the test files to see some actual examples. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Jun 6 2015 13:20:00 for Haclib by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
